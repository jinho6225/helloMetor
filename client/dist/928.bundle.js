"use strict";(self.webpackChunkd3_react=self.webpackChunkd3_react||[]).push([[928],{249:(t,e,a)=>{a.d(e,{Z:()=>s});var n=a(294),l=a(651),r=a(519);const s=function({data:t}){const e=(0,n.useRef)(),a=(0,n.useRef)(),s=(0,r.Z)(a);return(0,n.useEffect)((()=>{const a=(0,l.Ys)(e.current);if(!s)return;const n=(0,l.tiA)().domain(Object.keys(t[0]).map(((t,e)=>e))).range([0,s.width]).padding(.3),r=(0,l.BYU)().domain([0,(0,l.Fp7)(Object.values(t[0]))+50]).range([s.height,0]),i=(0,l.BYU)().domain([350,400,(0,l.Fp7)(Object.values(t[0]))]).range(["red","orange","green"]).clamp(!0),c=(0,l.LLu)(n).ticks(Object.keys(t[0]).length).tickFormat(((t,e)=>["breakfast","lunch","afternoon","dinner","evening","late_night"][e]));a.select(".x-axis").style("transform",`translateY(${s.height}px)`).call(c),a.selectAll(".x-axis-label").data(["Day of Week"]).join((t=>t.append("text").attr("class","x-axis-label"))).attr("fill","Navy").attr("transform","translate("+(s.width/2-45)+" ,"+(s.height+35)+")").text((t=>t));const o=(0,l.y4O)(r);a.selectAll(".y-axis").call(o),a.selectAll(".y-axis-label").data(["Second(TTS)"]).join((t=>t.append("text").attr("class","y-axis-label"))).attr("fill","Navy").attr("transform","rotate(-90)").attr("y",-35).attr("x",0-s.height/2-48).text((t=>t)),a.selectAll(".bar").data(Object.values(t[0])).join("rect").attr("class","bar").style("transform","scale(1, -1)").attr("x",((t,e)=>n(e))).attr("y",-s.height).attr("width",n.bandwidth()).transition().attr("fill",i).attr("height",(t=>s.height-r(t))),a.selectAll(".content").data(Object.values(t[0])).join((t=>t.append("text").attr("y",(t=>r(t)-4)))).style("color","navy").attr("class","content").text((t=>t.toFixed(2)+"sec")).attr("x",((t,e)=>n(e)+n.bandwidth()/2)).attr("text-anchor","middle").transition().attr("y",(t=>r(t)-8)).attr("opacity",1)}),[t,s]),n.createElement("div",{className:"svgContainer",ref:a,style:{marginBottom:"2rem"}},n.createElement("svg",{ref:e},n.createElement("g",{className:"x-axis"}),n.createElement("g",{className:"y-axis"})))}},338:(t,e,a)=>{a.d(e,{Z:()=>s});var n=a(294),l=a(651),r=a(519);const s=function({data:t,data2:e,data3:a}){const s=(0,n.useRef)(),i=(0,n.useRef)(),c=(0,r.Z)(i);return(0,n.useEffect)((()=>{const n=(0,l.Ys)(s.current);if(!c)return;console.log(c,"dimenstions");const r=(0,l.BYU)().domain([0,Object.keys(e[0]).length-1]).range([0,c.width]),i=(0,l.BYU)().domain([0,(0,l.Fp7)(Object.values(e[0]))+50]).range([c.height,0]),o=(0,l.BYU)().domain([0,Object.keys(e[0]).length-1]).range([0,c.width]),d=(0,l.BYU)().domain([0,(0,l.Fp7)(Object.values(e[0]))+50]).range([c.height,0]),h=(0,l.BYU)().domain([0,Object.keys(e[0]).length-1]).range([0,c.width]),f=(0,l.BYU)().domain([0,(0,l.Fp7)(Object.values(e[0]))+50]).range([c.height,0]),m=(0,l.LLu)(r).ticks(Object.values(t[0]).length).tickFormat(((t,e)=>["breakfast","lunch","afternoon","dinner","evening","late_night"][e]));n.select(".x-axis").style("transform",`translateY(${c.height}px)`).call(m),n.selectAll(".x-axis-label").data(["Day of Week"]).join((t=>t.append("text").attr("class","x-axis-label"))).attr("fill","Navy").attr("transform","translate("+(c.width/2-45)+" ,"+(c.height+35)+")").text((t=>t));const g=(0,l.y4O)(i).ticks(Object.values(e[0]).length);n.selectAll(".y-axis").call(g),n.selectAll(".y-axis-label").data(["Second(TTS)"]).join((t=>t.append("text").attr("class","y-axis-label"))).attr("fill","Navy").attr("transform","rotate(-90)").attr("y",-35).attr("x",0-c.height/2-48).text((t=>t));const u=(0,l.jvg)().x(((t,e)=>r(e))).y((t=>i(t))).curve(l.YY7),v=(0,l.jvg)().x(((t,e)=>o(e))).y((t=>d(t))).curve(l.YY7),y=(0,l.jvg)().x(((t,e)=>h(e))).y((t=>f(t))).curve(l.YY7);n.selectAll(".line").data([Object.values(t[0])]).join("path").attr("class","line").attr("d",(t=>u(t))).attr("fill","none").attr("stroke","blue").attr("stroke-width","2"),n.selectAll(".line2").data([Object.values(e[0])]).join("path").attr("class","line2").attr("d",(t=>v(t))).attr("fill","none").attr("stroke","orange").attr("stroke-width","2"),n.selectAll(".line3").data([Object.values(a[0])]).join("path").attr("class","line3").attr("d",(t=>y(t))).attr("fill","none").attr("stroke","red").attr("stroke-width","2"),n.selectAll("circle").data(Object.values(t[0])).join("circle").attr("cx",((t,e)=>r(e))).attr("cy",(t=>i(t))).attr("r",(t=>5)).attr("fill","red"),n.selectAll(".circle2").data(Object.values(e[0])).join("circle").attr("class","circle2").attr("cx",((t,e)=>o(e))).attr("cy",(t=>d(t))).attr("r",(t=>5)).attr("fill","red"),n.selectAll(".circle3").data(Object.values(a[0])).join("circle").attr("class","circle3").attr("cx",((t,e)=>h(e))).attr("cy",(t=>f(t))).attr("r",(t=>5)).attr("fill","red"),n.selectAll(".fast").data(Object.values(t[0])).join((t=>t.append("text").attr("y",(t=>i(t))))).attr("class","fast").text((t=>t)).attr("x",((t,e)=>r(e))).attr("text-anchor","middle").transition().attr("y",(t=>i(t)-10)).attr("opacity",1),n.selectAll(".slow").data(Object.values(e[0])).join((t=>t.append("text").attr("y",(t=>d(t))))).attr("class","slow").text((t=>t)).attr("x",((t,e)=>o(e))).attr("text-anchor","middle").transition().attr("y",(t=>d(t)-10)).attr("opacity",1),n.selectAll(".avg").data(Object.values(a[0])).join((t=>t.append("text").attr("y",(t=>f(t))))).attr("class","avg").text((t=>parseInt(t))).attr("x",((t,e)=>h(e))).attr("text-anchor","middle").transition().attr("y",(t=>f(t)-10)).attr("opacity",1)}),[t,e,a,c]),n.createElement("div",{className:"svgContainer",ref:i,style:{marginBottom:"2rem"}},n.createElement("svg",{ref:s},n.createElement("g",{className:"x-axis"}),n.createElement("g",{className:"y-axis"})))}},881:(t,e,a)=>{a.d(e,{Z:()=>s});var n=a(651),l=a(294),r=a(519);const s=function({data:t,colors:e}){const a=(0,l.useRef)(),s=(0,l.useRef)(),i=(0,r.Z)(s);return(0,l.useEffect)((()=>{const l=(0,n.Ys)(a.current);if(!i)return;const r=t.reduce(((t,e)=>t+e.value),0),s=(0,n.Nb1)().innerRadius(10).outerRadius(180),c=(0,n.ve8)().padAngle(0).value((t=>t.value))(t);l.selectAll(".slice").data(c).join("path").attr("class","slice").attr("stroke","white").attr("fill",((t,a)=>e[t.data.name])).style("transform",`translate(${i.width/2}px, ${i.height/2}px)`).attr("d",s).transition(),l.selectAll(".labels").data(c).join("text").attr("class","labels").text(((t,e)=>{let a=t.data.value?t.data.value:0;return a?(100*a/r).toFixed(2)+"%":null})).attr("fill","white").attr("x",((t,e)=>s.centroid(t)[0]+i.width/2-25)).attr("y",((t,e)=>s.centroid(t)[1]+i.height/2)).transition()}),[t,i]),l.createElement("div",{className:"svgContainer",ref:s,style:{padding:"0"}},l.createElement("svg",{ref:a}))}},928:(t,e,a)=>{a.r(e),a.d(e,{default:()=>o});var n=a(294),l=a(977),r=a(249),s=a(881),i=a(338);a(735);const c={breakfast:"pink",lunch:"orange",afternoon:"green",dinner:"blue",evening:"purple",late_night:"red"},o=function(t){const[e,a]=(0,n.useState)([]),[o,d]=(0,n.useState)([]),[h,f]=(0,n.useState)([]),[m,g]=(0,n.useState)([]);let{id:u}=(0,l.UO)();return(0,n.useEffect)((()=>{fetch("/api/databyday").then((t=>t.json())).then((t=>{for(const e of t)if(e.convertedDay==u){let t=[];for(let a in e)if("convertedDay"!=a){let n={};n.name=a,n.value=e[a],t.push(n)}a(t)}for(const e of t)if(e.convertedDay==u){let t=[],a={};a.avg_breakfast=e.tts_breakfast?e.tts_breakfast/e.breakfast:0,a.avg_lunch=e.tts_lunch?e.tts_lunch/e.lunch:0,a.avg_afternoon=e.tts_afternoon?e.tts_afternoon/e.afternoon:0,a.avg_dinner=e.tts_dinner?e.tts_dinner/e.dinner:0,a.avg_evening=e.tts_evening?e.tts_evening/e.evening:0,a.avg_late_night=e.tts_late_night?e.tts_late_night/e.late_night:0,t.push(a),d(t)}for(const e of t)if(e.convertedDay==u){let t=[],a=[],n={},l={};n.slow_breakfast=e.slow_breakfast,n.slow_lunch=e.slow_lunch,n.slow_afternoon=e.slow_afternoon,n.slow_dinner=e.slow_dinner,n.slow_evening=e.slow_evening,n.slow_late_night=e.slow_late_night,l.fast_breakfast=e.fast_breakfast,l.fast_lunch=e.fast_lunch,l.fast_afternoon=e.fast_afternoon,l.fast_dinner=e.fast_dinner,l.fast_evening=e.fast_evening,l.fast_late_night=e.fast_late_night,t.push(n),a.push(l),g(t),f(a)}})).catch((t=>{console.error("Error:",t)}))}),[]),n.createElement("div",{className:"bar-day-detail-container"},n.createElement("div",{className:"pie-chart bar-day-detail-container-child-container"},n.createElement("h1",null,"Customer Visit on ",u,n.createElement("span",{className:"head-date"},"(per day of week)")),n.createElement(s.Z,{data:e.filter((t=>Object.keys(c).includes(t.name))),colors:c}),n.createElement("div",{className:"fields"},e.filter((t=>Object.keys(c).includes(t.name))).map((t=>n.createElement(n.Fragment,null,n.createElement("div",{key:t.name,className:"field"},n.createElement("label",{htmlFor:t.name,style:{color:c[t.name]}},t.name)),n.createElement("div",{key:t.value,className:"field"},n.createElement("label",{htmlFor:t.value,style:{color:c[t.name]}},t.value)))))),n.createElement("div",{className:"desc"},"The chart above shows how many customers visit per Day Part for day of week")),n.createElement("div",{className:"bar-chart-tts bar-day-detail-container-child-container"},n.createElement("h1",null,"Average TTS on ",u,n.createElement("span",{className:"head-date"},"(per day of week)")),o.length?n.createElement(r.Z,{data:o}):null,n.createElement("div",{className:"desc"}," The chart above shows average TTS(total time to service) per Day Part for day of week")),n.createElement("div",{className:"line-chart-tts bar-day-detail-container-child-container"},n.createElement("h1",null,"Fastest & Avg & Slowest on ",u,n.createElement("span",{className:"head-date"},"(per day of week)")),h.length?n.createElement(i.Z,{data:h,data2:m,data3:o}):null,n.createElement("div",{className:"fields",style:{padding:"1% 0 0 6%"}},n.createElement("div",{className:"field"},n.createElement("label",{style:{color:"orange"}},"Fastest TTS")),n.createElement("div",{className:"field"},n.createElement("label",{style:{color:"red"}},"Average TTS")),n.createElement("div",{className:"field"},n.createElement("label",{style:{color:"blue"}},"Slowest TTS"))),n.createElement("div",{className:"desc"},"The chart above shows fastest, average, slowest TTS per Day Part for day of week")))}},599:(t,e,a)=>{a.d(e,{Z:()=>i});var n=a(81),l=a.n(n),r=a(645),s=a.n(r)()(l());s.push([t.id,'.bar-date-detail-container, .bar-day-detail-container {\n    min-width: 1200px;\n    display: grid;\n    grid-template-areas:"part1 part2"\n                        "part3 part3";\n    grid-template-columns: repeat(2, 1fr);\n    column-gap: 2%;\n    row-gap: 2%;\n    grid-auto-rows: minmax(150px, auto);\n    margin: 3% auto;\n    /* height: 100vh; */\n    padding: 5px;\n    text-align: center;\n    box-sizing: border-box;\n}\n\n.pie-chart {\n    grid-area: part1;\n    padding: 0 3%;\n    margin: 0 1%;\n}\n.bar-chart-tts {\n    grid-area: part2;\n    padding: 0 3%;\n    margin: 0 1%;\n}\n.line-chart-tts {\n    grid-area: part3;\n    padding: 0 3%;\n}\n\n.svgContainer {\n    display: flex;\n    flex-direction: column;\n    align-items: stretch;\n    justify-content: center;\n    padding: 0 0 0 6%;\n}\n\nsvg {\nbackground: #eee;\noverflow: visible;\ndisplay: block;\nwidth: 100%;\nheight: 45vh;\n}\n\n.field {\ndisplay: inline-block;\nmargin: 0 0.3em 0 0;\nfont-weight: 600;\nfont-family: Arial, Helvetica, sans-serif;\n}\n',""]);const i=s},735:(t,e,a)=>{var n=a(379),l=a.n(n),r=a(795),s=a.n(r),i=a(569),c=a.n(i),o=a(565),d=a.n(o),h=a(216),f=a.n(h),m=a(589),g=a.n(m),u=a(599),v={};v.styleTagTransform=g(),v.setAttributes=d(),v.insert=c().bind(null,"head"),v.domAPI=s(),v.insertStyleElement=f(),l()(u.Z,v),u.Z&&u.Z.locals&&u.Z.locals}}]);